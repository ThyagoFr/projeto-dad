{"version":3,"sources":["config.js","api.js","headers.js","BookList.js","LoginForm.js","ModalBookDetails.js","MyBookList.js","UserDetailsForm.js","Home.js","routes.js","App.js","index.js"],"names":["SERVER_URL","api","pjson","version","dependencies","react","Axios","create","baseURL","headers","login","access_token","user","localStorage","setItem","JSON","stringify","setUser","logout","removeItem","defaults","common","undefined","setToken","put","token","loggedIn","setUserInterests","interests","parse","getUsername","json","userJSON","username","userPhoto","photo","getBookId","id","Authorization","BookList","state","entities","totalCount","get","then","r","setState","data","map","e","ID","author","Author","title","Title","cover","Cover","genre","Genre","summary","Summary","averageRate","Average","comments","Qtd","axios","b","Meta","gutter","this","i","key","span","style","padding","hoverable","actions","marginLeft","value","allowHalf","disabled","bordered","onClick","props","onBookClick","bodyStyle","height","alt","src","description","React","Component","LoginForm","handleCloseDrawer","showDrawer","onSubmit","useState","imageUrl","setImageUrl","file","setFile","loadingFile","setLoadingFile","isRecoverPass","setIsRecoverPass","loadingForm","setLoadingForm","useForm","form","showUsuarioInvalido","setShowUsuarioInvalido","tab","setTab","useEffect","resetFields","TabPane","onPreview","a","url","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","window","open","document","write","outerHTML","width","onClose","visible","paddingBottom","footer","textAlign","marginRight","layout","marginTop","activeKey","onChange","k","md","Item","name","label","rules","required","type","message","loading","validateFields","values","console","log","userDetails","post","email","response","catch","error","prefix","UserOutlined","className","placeholder","Password","LockOutlined","iconRender","EyeTwoTone","EyeInvisibleOutlined","preventDefault","float","href","password","Email","age","Age","Name","Photo","status","min","max","valuePropName","getValueFromEvent","Array","isArray","fileList","noStyle","rotate","Dragger","action","beforeUpload","size","URL","createObjectURL","info","img","callback","addEventListener","getBase64","LoadingOutlined","InboxOutlined","formData","FormData","Object","entries","v","append","ModalBookDetails","book","showModal","onOk","reloadBook","setShowUser","bookId","setBookId","showComments","setShowComments","setShowDrawer","Paragraph","setUserDetails","userComment","setUserComment","userRate","setUserRate","submittingComment","setSubmittingComment","userAlreadyCommented","setUserAlreadyCommented","reviews","setReviews","isReaderInterest","setIsReaderInterest","retrieveUserDetails","includes","Editor","submitting","rows","defaultValue","htmlType","handleChangeComment","target","handleSubmitComment","comment","rate","readerId","body","reader_id","picture","UserCommentComponent","avatar","content","onCancel","column","display","ellipsis","expandable","symbol","paddingLeft","suffix","readers","u","User","Comment","Rate","UserPhoto","some","CommentOutlined","fontWeight","color","shape","icon","CheckOutlined","interestId","delete","PlusOutlined","book_id","resp","orientation","split","itemLayout","dataSource","item","extra","paddingTop","MyBookList","Interestid","UserDetailsForm","blob","xhr","XMLHttpRequest","responseType","send","File","substring","lastIndexOf","initialValues","myUserDetails","patch","newreader","Home","Header","Footer","Content","setBook","setShowModal","showUser","showUserDetails","setShowUserDetails","location","subMenu","LogoutOutlined","position","zIndex","margin","to","selectedKeys","theme","mode","overlay","trigger","placement","background","minHeight","lineHeight","borderRadius","backgroundColor","verticalAlign","fontSize","ArrowUpOutlined","Routes","path","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.df094a45.chunk.js","sourcesContent":["import pjson from '../package.json';\r\n\r\nconst prod = process.env.NODE_ENV === 'production';  // <1>\r\n\r\nexport const SERVER_URL = prod ? 'https://184.72.204.214:8090' : 'http://localhost:8080';\r\n\r\nexport const URL = prod ? '/goodbooks' : '';\r\n\r\nexport const CLIENT_VERSION = pjson.version;\r\nexport const REACT_VERSION = pjson.dependencies.react;\r\n","import Axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { SERVER_URL } from \"./config\";\r\n\r\nconst api = Axios.create({\r\n    baseURL: `${SERVER_URL}/api/v1`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  });\r\n\r\napi.login = ({ access_token, user }) => {\r\n    localStorage.setItem(\"token\", access_token);\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n};\r\n\r\napi.setUser = (user) => {\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n};\r\n  \r\napi.logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"token\");\r\n    api.defaults.headers.common[\"Authorization\"] = undefined;\r\n};\r\n\r\napi.setToken = () => {\r\n    api.defaults.headers.put[\"Authorization\"] = `Bearer ${localStorage.token}`;\r\n}\r\n\r\napi.loggedIn = () => {\r\n    return localStorage[\"user\"]\r\n};\r\n\r\napi.setUserInterests = ({interests}) => {\r\n    let user = JSON.parse(localStorage.user)\r\n    user.interests = interests;\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n}\r\n\r\napi.getUsername = () => {\r\n    const json = api.userJSON()\r\n    return json && json.username ? json.username : \"G\"\r\n}\r\n\r\napi.userPhoto = () => {\r\n    const json = api.userJSON()\r\n    return !!json && !!json.photo ? json.photo : null\r\n}\r\n\r\napi.userJSON = () => {\r\n    return localStorage.user ? JSON.parse(localStorage.user) : null\r\n}\r\n\r\napi.getBookId = () => {\r\n    const json = api.userJSON()\r\n    return json ? json.id : null\r\n}\r\n  \r\n\r\nexport default api;","export default () => {\r\n    return {\r\n      Authorization: `Bearer ${localStorage.token}`,\r\n      'Access-Control-Allow-Origin': '*',\r\n    }\r\n  }\r\n  ","import { Image, Row, Col, Card, Rate } from 'antd';\r\nimport axios from \"axios\";\r\nimport React from 'react';\r\nimport api from './api';\r\nimport { SERVER_URL } from './config';\r\nimport headers from './headers';\r\n\r\nclass BookList extends React.Component {\r\n    state = {\r\n        entities: [],\r\n        totalCount: 0,\r\n    }\r\n\r\n    componentDidMount() {\r\n        api.get(\"/books\").then(r => {\r\n            this.setState({\r\n                entities: (r.data || []).map(e => ({\r\n                    id: e.ID, author: e.Author, title: e.Title, cover: e.Cover, genre: e.Genre, summary: e.Summary, averageRate: e.Average, comments: e.Qtd\r\n                }))\r\n            })\r\n        })\r\n\r\n        if (api.loggedIn()) {\r\n\r\n            axios.get(`${SERVER_URL}/api/v1/readers/${api.getBookId()}/interests`, { headers: headers() }).then(r => {\r\n                if (!!r && !!r.data) {\r\n                    api.setUserInterests({ interests: r.data.map(b => b.ID) })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { Meta } = Card;\r\n        return (\r\n            <Row gutter={24}>\r\n                {\r\n                    this.state.entities.map((e, i) => {\r\n                        return (\r\n                            <Col key={e.id} span={4} style={{ padding: 20 }}>\r\n                                <Card hoverable\r\n                                actions={[<Rate style={{ marginLeft: 15 }} value={e.averageRate} allowHalf disabled />]}\r\n                                    bordered={false}\r\n                                    onClick={() => {\r\n                                        this.props.onBookClick(e)\r\n                                    }}\r\n                                    bodyStyle={{ height: 120 }}\r\n                                    cover={<img style={{ height: 200 }} alt={e.title} src={e.cover} />}>\r\n                                    <Meta title={e.title} description={e.author}  />\r\n                                </Card>\r\n                            </Col>\r\n                        )\r\n                    })\r\n                }\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookList;","import { Button, Form, Col, Comment, Descriptions, Divider, Modal, Rate, Row, Statistic, List, Tooltip, Typography, Drawer, Select, Input, DatePicker, Tabs, InputNumber, Upload, message, Alert } from \"antd\";\r\nimport { CommentOutlined, EyeInvisibleOutlined, EyeTwoTone, HeartOutlined, InboxOutlined, LoadingOutlined, LockOutlined, PlusOutlined, UserOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport api from './api';\r\nimport { SERVER_URL } from \"./config\";\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\nimport axios from \"axios\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport ImageUploading from 'react-images-uploading';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nfunction LoginForm({ handleCloseDrawer, showDrawer, onSubmit }) {\r\n\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [loadingFile, setLoadingFile] = useState(false);\r\n  const [stateInfos, setStateInfos] = useState({});\r\n  const [isRecoverPass, setIsRecoverPass] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const [loadingForm, setLoadingForm] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [showUsuarioInvalido, setShowUsuarioInvalido] = useState(false)\r\n  const [tab, setTab] = useState('1')\r\n\r\n  useEffect(() => {\r\n    form.resetFields()\r\n  }, [showDrawer])\r\n\r\n  const login = () => {\r\n    setShowUsuarioInvalido(false)\r\n    setLoadingForm(true)\r\n    form.validateFields(['email', 'password']).then((values) => {\r\n      const userDetails = values\r\n\r\n      api.post(`/login`, { email: userDetails.email, password: userDetails.password }).then(response => {\r\n        //toast.success(\"Login efetuado com successo!\")\r\n        console.log(response)\r\n        const user = response.data.reader;\r\n        api.login({ access_token: response.data.token, \r\n          user: { email: user.Email, age: user.Age, username: user.Name, id: user.ID, photo: user.Photo }})\r\n        setLoadingForm(false)\r\n        handleCloseDrawer()\r\n        onSubmit()\r\n\r\n      }).catch(error => {\r\n        if (!!error && !!error.response && error.response.status == 401) {\r\n          setLoadingForm(false)\r\n          setShowUsuarioInvalido(true)\r\n        }\r\n      });\r\n\r\n    })\r\n\r\n\r\n\r\n  };\r\n\r\n  const recuperarSenha = () => {\r\n    setLoadingForm(true)\r\n    form.validateFields().then((values) => {\r\n      console.log(values)\r\n      const userDetails = values\r\n      api.post(`/sendemail`, { email: userDetails.email}).then(response => {\r\n        console.log(response)\r\n        setLoadingForm(false)\r\n      }).catch((error) => {\r\n        setLoadingForm(false)\r\n      })\r\n    })\r\n  }\r\n\r\n  const { TabPane } = Tabs;\r\n  const handleChangeFile = info => {\r\n    if (info.file.status === 'uploading') {\r\n      setLoadingFile(true);\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      getBase64(info.file.originFileObj, imageUrl => {\r\n        setImageUrl(imageUrl);\r\n        setLoadingFile(false)\r\n      },\r\n      );\r\n    }\r\n  };\r\n\r\n  const normFile = e => {\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n\r\n  function getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  function beforeUpload(file) {\r\n    \r\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    if (!isJpgOrPng) {\r\n      message.error('You can only upload JPG/PNG file!');\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      message.error('Image must smaller than 2MB!');\r\n    }\r\n\r\n    setImageUrl(URL.createObjectURL(file));\r\n    setFile(file);\r\n    return false;\r\n  }\r\n\r\n  function saveReader() {\r\n    const formData = new FormData();\r\n    setLoadingForm(true)\r\n\r\n    form.validateFields().then((values) => {\r\n      const { username, ...userDetails } = values\r\n\r\n      Object.entries(userDetails).map(([k, v], i) => {\r\n        formData.append(k, v)\r\n      })\r\n\r\n      formData.append(\"name\", username)\r\n      formData.append(\"profile\", file)\r\n      console.log(file)\r\n\r\n      api.post(`/register`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n      }).then(r => {\r\n        //toast.success(\"Registro Criado! Por favor, faça login para continuar.\")\r\n        setLoadingForm(false)\r\n        setTab(\"1\")\r\n        setShowUsuarioInvalido(false)\r\n        form.resetFields()\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  const onPreview = async file => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise(resolve => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n\r\n\r\n  return <Drawer\r\n    title=\"Login\"\r\n    width={720}\r\n    onClose={() => { handleCloseDrawer(); }}\r\n    visible={showDrawer}\r\n    bodyStyle={{ paddingBottom: 80 }}\r\n    footer={<div\r\n      style={{\r\n        textAlign: 'right',\r\n      }}\r\n    >\r\n      <Button onClick={() => { handleCloseDrawer(); }} style={{ marginRight: 8 }}>\r\n        Cancelar\r\n      </Button>\r\n\r\n    </div>}\r\n  >\r\n    <Form form={form} layout={\"vertical\"} style={{ width: 500, marginTop: 30, marginLeft: 80 }}>\r\n      <Tabs activeKey={tab} onChange={(k) => {\r\n          setTab(k)\r\n          form.resetFields()\r\n        }}>\r\n        {isRecoverPass ? <TabPane tab={\"Recuperar Senha\"} key={\"3\"}>\r\n          <Row gutter={24}>\r\n            <Col md={24}>\r\n              <Form.Item name={\"email\"} label={\"E-mail\"} rules={[{ required: true, type: 'email', message: 'Por favor, informe um e-mail válido!' }]}>\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={12}>\r\n              <Form.Item>\r\n                <Button type=\"default\" onClick={() => { \r\n                  form.resetFields()\r\n                  setIsRecoverPass(false) \r\n                  setTab(\"1\")\r\n                  }} style={{ width: \"100%\" }}>Voltar</Button>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={12}>\r\n              <Form.Item>\r\n                <Button type=\"primary\" loading={loadingForm} onClick={() => { recuperarSenha() }} style={{ width: \"100%\" }}>Recuperar</Button>\r\n\r\n              </Form.Item>\r\n            </Col>\r\n\r\n\r\n          </Row>\r\n        </TabPane> :\r\n          <>\r\n            <TabPane tab={\"Entrar\"} key={1}>\r\n              <Form.Item\r\n                name=\"email\"\r\n                rules={[{ required: true, message: 'Por favor, informe o e-mail!' }]}\r\n              >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"E-mail\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"password\"\r\n\r\n                rules={[{ required: true, message: 'Por favor, informe a senha!' }]}\r\n              >\r\n                <Input.Password\r\n                  prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                  placeholder=\"Senha\"\r\n                  iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)} />\r\n              </Form.Item>\r\n              {showUsuarioInvalido ? <Alert message=\"E-mail não cadastrado ou senha inválida!\" type=\"error\" /> : null}\r\n              <Form.Item>\r\n\r\n                <a onClick={(e) => { e.preventDefault(); setIsRecoverPass(true); setTab(\"3\") }} style={{ float: \"right\" }} href=\"\">\r\n                  Esqueci minha senha\r\n            </a>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button loading={loadingForm} onClick={login} type=\"primary\" style={{ width: \"100%\" }}>Entrar</Button>\r\n\r\n              </Form.Item>\r\n            </TabPane>\r\n            <TabPane tab={\"Registre-se\"} key={2}>\r\n              <Row gutter={24}>\r\n                <Col md={18}>\r\n                  <Form.Item name=\"username\" label={\"Nome de usuário\"}\r\n                    rules={[{ required: true, message: 'Por favor, informe o nome de usuário!' }]}>\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Item name=\"age\" label={\"Idade\"} rules={[{ type: 'number', min: 0, max: 99, message: \"Por favor, informe um número entre 0 e 99!\" }]}>\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={24}>\r\n                <Col md={24}>\r\n                  <Form.Item name={\"email\"} label={\"E-mail\"} rules={[{ required: true, type: 'email', message: 'Por favor, informe um e-mail válido!' }]}>\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n\r\n              </Row>\r\n              <Row gutter={24}>\r\n                <Col md={24}>\r\n                  <Form.Item\r\n                    name=\"password\"\r\n                    label={\"Senha\"}\r\n                    rules={[{ required: true, message: 'Por favor, informe a senha!' }]}\r\n                  >\r\n                    <Input.Password\r\n                      iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Form.Item label=\"Foto\">\r\n                <Form.Item name=\"photo\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n                <ImgCrop rotate>\r\n                  <Upload.Dragger onPreview={onPreview} style={imageUrl ? { width: 100, height: 100 } : {}} action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\" beforeUpload={beforeUpload} name=\"files\" onChange={handleChangeFile}>\r\n                    {imageUrl ? <Avatar size={64} src={imageUrl} /> :\r\n                      <>\r\n                        {loadingFile ? <LoadingOutlined /> :\r\n                          <>\r\n                            <p className=\"ant-upload-drag-icon\">\r\n                              <InboxOutlined />\r\n                            </p>\r\n                            <p className=\"ant-upload-text\">Clique ou arraste o arquivo para carregar.</p>\r\n                          </>}\r\n                      </>}\r\n                  </Upload.Dragger>\r\n                  </ImgCrop>\r\n                </Form.Item>\r\n              </Form.Item>\r\n              <Row>\r\n                <Col md={24}>\r\n                  <Form.Item>\r\n                    <Button loading={loadingForm} onClick={saveReader} type=\"primary\" style={{ width: \"100%\", float: \"right\" }}>Salvar</Button>\r\n\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <ToastContainer />\r\n            </TabPane>\r\n          </>}\r\n      </Tabs>\r\n    </Form>\r\n  </Drawer>;\r\n}\r\n\r\nexport default LoginForm;","import { Button, Form, Col, Comment, Descriptions, Divider, Modal, Rate, Row, Statistic, List, Tooltip, Typography, Drawer, Select, Input, DatePicker, Tabs, InputNumber, Upload, message } from \"antd\";\r\nimport { IconMap } from \"antd/lib/result\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CheckOutlined, CommentOutlined, EyeInvisibleOutlined, EyeTwoTone, HeartOutlined, InboxOutlined, LoadingOutlined, LockOutlined, PlusOutlined, UserOutlined, VerifiedOutlined } from '@ant-design/icons';\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport api from \"./api\";\r\nimport headers from \"./headers\";\r\nimport { SERVER_URL } from \"./config\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nfunction ModalBookDetails({ book, showModal, onOk, reloadBook, setShowUser }) {\r\n  const [bookId, setBookId] = useState({});\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n  const { Paragraph } = Typography;\r\n  const [userDetails, setUserDetails] = useState({});\r\n  const [userComment, setUserComment] = useState(\"\");\r\n  const [userRate, setUserRate] = useState(5);\r\n  const [submittingComment, setSubmittingComment] = useState(false);\r\n  const [userAlreadyCommented, setUserAlreadyCommented] = useState(false)\r\n  const [reviews, setReviews] = useState([]);\r\n  const [isReaderInterest, setIsReaderInterest] = useState(false)\r\n  const [form] = Form.useForm();\r\n\r\n  function retrieveUserDetails() {\r\n    setUserDetails(JSON.parse(localStorage.user))\r\n  }\r\n\r\n  useEffect(() => {\r\n    setBookId(book.id)\r\n    setShowComments(false)\r\n    setShowDrawer(false)\r\n    setUserComment(\"\")\r\n    setUserRate(5)\r\n    setReviews([])\r\n    setUserAlreadyCommented(false)\r\n    let user = api.userJSON()\r\n    form.resetFields()\r\n    setIsReaderInterest(user && user.interests && user.interests.includes(book.id))\r\n  }, [book])\r\n\r\n  function getReviews() {\r\n    if (api.loggedIn()) {\r\n      api.get(`${SERVER_URL}/api/v1/books/${bookId}/comments`, { headers: headers() }).then(r => {\r\n        console.log(bookId)\r\n        console.log(r)\r\n        const readers = r.data.map(u => ({\r\n          reader: u.User, email: u.Email, comment: u.Comment, rate: u.Rate, picture: u.UserPhoto || \"https://dad-react-static.s3.us-east-2.amazonaws.com/icon.png\"\r\n        }))\r\n\r\n        retrieveUserDetails()\r\n        setUserAlreadyCommented(readers.some(r => r.email === JSON.parse(localStorage.user).email))\r\n        setReviews(readers)\r\n        setShowComments(true)\r\n      })\r\n    } else {\r\n      setShowDrawer(true)\r\n    }\r\n  }\r\n\r\n  function onLogin() {\r\n    setShowUser(true)\r\n  }\r\n\r\n  const Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n    <>\r\n      <Form form={form}>\r\n        <Form.Item name=\"userComment\">\r\n          <TextArea rows={4} />\r\n        </Form.Item>\r\n        <Row>\r\n          <Form.Item>\r\n            <Rate defaultValue={5} value={userRate} onChange={setUserRate} style={{ marginRight: 20 }} allowHalf />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\r\n              Salvar Avaliação\r\n          </Button>\r\n          </Form.Item>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n\r\n  function verificaUsuarioLogado() {\r\n    if (api.loggedIn()) {\r\n      retrieveUserDetails()\r\n      setShowComments(true)\r\n    } else {\r\n      setShowDrawer(true)\r\n    }\r\n  }\r\n\r\n  function handleChangeComment(e) {\r\n    setUserComment(e.target.value)\r\n  }\r\n\r\n  function handleSubmitComment() {\r\n    setSubmittingComment(true);\r\n    form.validateFields().then(values => {\r\n      const comment = values.userComment;\r\n      const rate = userRate;\r\n      const readerId = api.getBookId();\r\n\r\n      const body = { comment: comment, rate: rate, reader_id: readerId }\r\n\r\n      axios.post(`${SERVER_URL}/api/v1/books/${bookId}/comments`, body, { headers: headers() }).then(r => {\r\n        setSubmittingComment(false)\r\n        setUserAlreadyCommented(true)\r\n        setReviews([...reviews, { reader: userDetails.username, comment: comment, rate: rate, picture: userDetails.photo || \"https://dad-react-static.s3.us-east-2.amazonaws.com/icon.png\" }])\r\n        reloadBook()\r\n      })\r\n    })\r\n  }\r\n\r\n  function removeBookFromInterests() {\r\n    if (api.loggedIn() && book.interestId) {\r\n\r\n      axios.delete(`${SERVER_URL}/api/v1/readers/${api.getBookId()}/interests/${book.interestId}`, { headers: headers() }).then(r => {\r\n      })\r\n\r\n      setIsReaderInterest(false)\r\n\r\n      onOk()\r\n    }\r\n  }\r\n\r\n  function addBookToInterests() {\r\n    if (api.loggedIn()) {\r\n      const body = { book_id: bookId }\r\n\r\n      axios.post(`${SERVER_URL}/api/v1/readers/${api.getBookId()}/interests`, body, { headers: headers() }).then(r => {\r\n      })\r\n\r\n      setIsReaderInterest(true)\r\n\r\n      axios.get(`${SERVER_URL}/api/v1/readers/${api.getBookId()}/interests`, { headers: headers() }).then(resp => {\r\n        if (!!resp && !!resp.data) {\r\n          api.setUserInterests({ interests: resp.data.map(b => b.ID) })\r\n        }\r\n      })\r\n    } else {\r\n      setShowDrawer(true)\r\n    }\r\n  }\r\n\r\n  const UserCommentComponent = () => {\r\n    if (!userAlreadyCommented) {\r\n      return (\r\n        <>\r\n          <Comment\r\n            avatar={\r\n              <Avatar\r\n                src={userDetails.photo || \"https://dad-react-static.s3.us-east-2.amazonaws.com/icon.png\"}\r\n                alt={userDetails.username}\r\n              />\r\n            }\r\n            content={\r\n              <Editor\r\n                onChange={handleChangeComment}\r\n                onSubmit={handleSubmitComment}\r\n                submitting={submittingComment}\r\n                value={userComment}\r\n              />\r\n            }\r\n          />\r\n        </>\r\n      );\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal width={900} onCancel={onOk} onOk={onOk} visible={showModal} >\r\n      <Row gutter={24}>\r\n        <img style={{ height: 300, marginRight: 20 }} width={\"25%\"} alt={book.title} src={book.cover} />\r\n        <Descriptions title={\"Info\"} column={1} style={{ display: 'inline-block', width: \"70%\" }}>\r\n          <Descriptions.Item label={\"Título\"}>{book.title}</Descriptions.Item>\r\n          <Descriptions.Item label={\"Autor\"}>{book.author}</Descriptions.Item>\r\n          <Descriptions.Item label={\"Gênero\"}>{book.genre}</Descriptions.Item>\r\n          <Descriptions.Item label={\"Resumo\"}>\r\n            <Paragraph ellipsis={{ rows: 5, expandable: true, symbol: 'mais' }}>\r\n              {book.summary}\r\n            </Paragraph>\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n      </Row>\r\n      <Row style={{ marginTop: 30 }} gutter={24}>\r\n        <Rate style={{ marginLeft: 15 }} value={book.averageRate} allowHalf disabled />\r\n        {\r\n          book.comments > 0 ? <>\r\n            <Statistic style={{ paddingLeft: 8 }} value={book.averageRate} suffix=\"/ 5\" />\r\n            <Col md={10}>\r\n\r\n              <a onClick={getReviews}>\r\n                <Statistic prefix={<CommentOutlined />} style={{ paddingLeft: 8 }} value={book.comments} suffix=\"avaliações\" />\r\n              </a>\r\n            </Col></> : <Col md={11}>\r\n              Este livro ainda não foi avaliado.\r\n                  <Button onClick={verificaUsuarioLogado} style={{ marginTop: 4 }} type=\"text\">\r\n                <span style={{ fontWeight: \"bold\", color: \"teal\" }}>Deixe sua avaliação.</span>\r\n              </Button>\r\n            </Col>\r\n        }\r\n\r\n        <Col md={8}>\r\n          {\r\n            isReaderInterest ?\r\n              <Tooltip title=\"Tenho interesse\">\r\n                <Button type=\"primary\" style={{ float: \"right\", marginLeft: 15 }} shape=\"circle\" size={\"large\"} icon={<CheckOutlined />} onClick={removeBookFromInterests} />\r\n              </Tooltip>\r\n              :\r\n              <Tooltip title=\"Tenho interesse\">\r\n                <Button style={{ float: \"right\", marginLeft: 15 }} shape=\"circle\" size={\"large\"} icon={<PlusOutlined />} onClick={addBookToInterests} />\r\n              </Tooltip>\r\n          }\r\n\r\n        </Col>\r\n      </Row>\r\n\r\n      {\r\n        showComments ? <>\r\n          <Divider orientation=\"left\">Comentários</Divider>\r\n          <List split={false}\r\n            className=\"comment-list\"\r\n            itemLayout=\"horizontal\"\r\n            dataSource={reviews}\r\n            style={{ width: \"100%\" }}\r\n            size=\"small\"\r\n            itemLayout=\"horizontal\"\r\n            renderItem={item => (\r\n              <div>\r\n                <List.Item extra={<Statistic style={{ paddingTop: 8 }} value={item.rate} suffix=\"/ 5\" />}>\r\n                  <Comment\r\n                    author={item.reader}\r\n                    avatar={<Avatar\r\n                      src={item.picture}\r\n                      alt={item.reader}\r\n                    />}\r\n                    content={item.comment}\r\n                  />\r\n\r\n                </List.Item>\r\n              </div>\r\n            )}\r\n          />\r\n          <UserCommentComponent />\r\n        </>\r\n          : null\r\n      }\r\n\r\n      <LoginForm onSubmit={onLogin} handleCloseDrawer={() => setShowDrawer(false)} showDrawer={showDrawer} />\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalBookDetails;","import { Image, Row, Col, Card } from 'antd';\r\nimport axios from \"axios\";\r\nimport React from 'react';\r\nimport api from './api';\r\nimport { SERVER_URL } from './config';\r\nimport headers from './headers';\r\n\r\nclass MyBookList extends React.Component {\r\n    state = {\r\n        entities: [],\r\n        totalCount: 0,\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`${SERVER_URL}/api/v1/readers/${api.getBookId()}/interests`, { headers: headers() }).then(r => {\r\n            if (!!r && !!r.data) {\r\n                this.setState({\r\n                    entities: (r.data || []).map(e => ({\r\n                        id: e.ID, interestId: e.Interestid, author: e.Author, title: e.Title, cover: e.Cover, genre: e.Genre, summary: e.Summary, averageRate: e.Average, comments: e.Qtd\r\n                    }))\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { Meta } = Card;\r\n        return (\r\n            <Row gutter={24}>\r\n                {\r\n                    this.state.entities.map((e, i) => {\r\n                        return (\r\n                            <Col key={e.id} span={4} style={{ padding: 20 }}>\r\n                                <Card hoverable\r\n                                    bordered={false}\r\n                                    onClick={() => {\r\n                                        this.props.onBookClick(e)\r\n                                    }}\r\n                                    bodyStyle={{ height: 120 }}\r\n                                    cover={<img style={{ height: 200 }} alt={e.title} src={e.cover} />}>\r\n                                    <Meta title={e.title} description={e.author} />\r\n                                </Card>\r\n                            </Col>\r\n                        )\r\n                    })\r\n                }\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MyBookList;","import { Button, Form, Col, Comment, Descriptions, Divider, Modal, Rate, Row, Statistic, List, Tooltip, Typography, Drawer, Select, Input, DatePicker, Tabs, InputNumber, Upload, message, Alert } from \"antd\";\r\nimport { CommentOutlined, EyeInvisibleOutlined, EyeTwoTone, HeartOutlined, InboxOutlined, LoadingOutlined, LockOutlined, PlusOutlined, UserOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport api from './api';\r\nimport { SERVER_URL } from \"./config\";\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\nimport axios from \"axios\";\r\nimport ImageUploader from 'react-images-upload';\r\nimport ImageUploading from 'react-images-uploading';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport headers from \"./headers\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nfunction UserDetailsForm({ handleCloseDrawer, showDrawer, onSubmit, userDetails }) {\r\n\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [loadingFile, setLoadingFile] = useState(false);\r\n  const [stateInfos, setStateInfos] = useState({});\r\n  const [isRecoverPass, setIsRecoverPass] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const [loadingForm, setLoadingForm] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [showUsuarioInvalido, setShowUsuarioInvalido] = useState(false)\r\n  const [tab, setTab] = useState('1')\r\n\r\n  useEffect(() => {\r\n    form.resetFields()\r\n  }, [showDrawer])\r\n\r\n  useEffect(() => {\r\n    if(!!userDetails && !!userDetails.photo) {\r\n      setImageUrl(userDetails.photo)\r\n      var blob = null;\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", userDetails.photo);\r\n      xhr.responseType = \"blob\";//force the HTTP response, response-type header to be blob\r\n      xhr.onload = function()\r\n      {\r\n          blob = xhr.response;//xhr.response is now a blob object\r\n      }\r\n      xhr.send();\r\n\r\n\r\n      setFile(new File([blob], userDetails.photo.substring(userDetails.photo.lastIndexOf(\"/\"))))\r\n    }\r\n  }, [userDetails])\r\n\r\n  const { TabPane } = Tabs;\r\n  const handleChangeFile = info => {\r\n    if (info.file.status === 'uploading') {\r\n      setLoadingFile(true);\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      getBase64(info.file.originFileObj, imageUrl => {\r\n        setImageUrl(imageUrl);\r\n        setLoadingFile(false)\r\n      },\r\n      );\r\n    }\r\n  };\r\n\r\n  const normFile = e => {\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n\r\n  function getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  function beforeUpload(file) {\r\n    \r\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n    if (!isJpgOrPng) {\r\n      message.error('You can only upload JPG/PNG file!');\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      message.error('Image must smaller than 2MB!');\r\n    }\r\n\r\n    setImageUrl(URL.createObjectURL(file));\r\n    setFile(file);\r\n    return false;\r\n  }\r\n\r\n  function updateReader() {\r\n    setLoadingForm(true)\r\n    const formData = new FormData();\r\n\r\n\r\n    form.validateFields().then((values) => {\r\n      const { username, ...myUserDetails } = values\r\n\r\n      Object.entries(myUserDetails).map(([k, v], i) => {\r\n        formData.append(k, v)\r\n      })\r\n\r\n      formData.append(\"name\", username)\r\n      formData.append(\"profile\", file)\r\n\r\n      axios.patch(`${SERVER_URL}/api/v1/readers/${userDetails.id}`, formData, {\r\n        headers: {\r\n          ...headers(),\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      }).then(r => {\r\n        //toast.success(\"Dados atualizados com sucesso!\")\r\n        const newreader =  { email: myUserDetails.email, age: myUserDetails.age, username: username, id: r.data.ID, photo: r.data.Photo}\r\n        setLoadingForm(false)\r\n        form.resetFields()\r\n        handleCloseDrawer()\r\n        onSubmit(newreader)\r\n      })\r\n    })\r\n  }\r\n\r\n  const onPreview = async file => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise(resolve => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n\r\n\r\n  return <Drawer\r\n    title=\"Login\"\r\n    width={720}\r\n    onClose={() => { handleCloseDrawer(); }}\r\n    visible={showDrawer}\r\n    bodyStyle={{ paddingBottom: 80 }}\r\n    footer={<div\r\n      style={{\r\n        textAlign: 'right',\r\n      }}\r\n    >\r\n      <Button onClick={() => { handleCloseDrawer(); }} style={{ marginRight: 8 }}>\r\n        Cancelar\r\n      </Button>\r\n\r\n    </div>}\r\n  >\r\n    <Form initialValues={userDetails} form={form} layout={\"vertical\"} style={{ width: 500, marginTop: 30, marginLeft: 80 }}>\r\n      <Tabs activeKey={tab} onChange={(k) => {\r\n          setTab(k)\r\n          form.resetFields()\r\n        }}>\r\n        {\r\n          <>\r\n            <TabPane tab={\"Atualize seus dados\"} key={'1'}>\r\n            <Row gutter={24}>\r\n                <Col md={24}>\r\n                  <Form.Item name={\"email\"} label={\"E-mail\"} rules={[{ required: true, type: 'email', message: 'Por favor, informe um e-mail válido!' }]}>\r\n                    <Input disabled />\r\n                  </Form.Item>\r\n                </Col>\r\n\r\n              </Row>\r\n              <Row gutter={24}>\r\n                <Col md={18}>\r\n                  <Form.Item name=\"username\" label={\"Nome de usuário\"}\r\n                    rules={[{ required: true, message: 'Por favor, informe o nome de usuário!' }]}>\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Item name=\"age\" label={\"Idade\"} rules={[{ type: 'number', min: 0, max: 99, message: \"Por favor, informe um número entre 0 e 99!\" }]}>\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={24}>\r\n                <Col md={24}>\r\n                  <Form.Item\r\n                    name=\"password\"\r\n                    label={\"Senha\"}\r\n                  >\r\n                    <Input.Password\r\n                      iconRender={visible => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Form.Item label=\"Foto\">\r\n                <Form.Item name=\"photo\" valuePropName=\"fileList\" getValueFromEvent={normFile} noStyle>\r\n                <ImgCrop rotate>\r\n                  <Upload.Dragger onPreview={onPreview} style={imageUrl ? { width: 100, height: 100 } : {}} action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\" beforeUpload={beforeUpload} name=\"files\" onChange={handleChangeFile}>\r\n                    {imageUrl ? <Avatar size={64} src={imageUrl} /> :\r\n                      <>\r\n                        {loadingFile ? <LoadingOutlined /> :\r\n                          <>\r\n                            <p className=\"ant-upload-drag-icon\">\r\n                              <InboxOutlined />\r\n                            </p>\r\n                            <p className=\"ant-upload-text\">Clique ou arraste o arquivo para carregar.</p>\r\n                          </>}\r\n                      </>}\r\n                  </Upload.Dragger>\r\n                  </ImgCrop>\r\n                </Form.Item>\r\n              </Form.Item>\r\n              <Row>\r\n                <Col md={24}>\r\n                  <Form.Item>\r\n                    <Button loading={loadingForm} onClick={updateReader} type=\"primary\" style={{ width: \"100%\", float: \"right\" }}>Atualizar</Button>\r\n\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n            </TabPane>\r\n          </>}\r\n      </Tabs>\r\n    </Form>\r\n  </Drawer>;\r\n}\r\n\r\nexport default UserDetailsForm;","import { ArrowUpOutlined, LogoutOutlined, UserOutlined, VerticalAlignTopOutlined } from \"@ant-design/icons\";\r\nimport { BackTop, Dropdown, Image, Layout, Menu } from \"antd\";\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, Router } from \"react-router-dom\";\r\nimport api from \"./api\";\r\nimport BookList from \"./BookList\";\r\nimport ModalBookDetails from \"./ModalBookDetails\";\r\nimport MyBookList from \"./MyBookList\";\r\nimport UserDetailsForm from \"./UserDetailsForm\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Home() {\r\n    console.log(api.userPhoto())\r\n    const { Header, Footer, Content } = Layout;\r\n    const [book, setBook] = useState({});\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [showUser, setShowUser] = useState(false);\r\n    const [showUserDetails, setShowUserDetails] = useState(false);\r\n    const location = document.location.href.substring(document.location.href.lastIndexOf('/'))\r\n\r\n    const onBookClick = (book) => {\r\n        setBook(book);\r\n        setShowModal(true);\r\n    }\r\n\r\n    const onOkModal = () => {\r\n        setShowModal(false)\r\n        setBook({});\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setShowUser(api.loggedIn())\r\n    }, [])\r\n\r\n    \r\n    function reloadBook() {\r\n        api.get(`/books/${book.id}`).then(r => {\r\n            const e = r.data;\r\n            setBook({ id: e.ID, author: e.Author, title: e.Title, cover: e.Cover, genre: e.Genre, summary: e.Summary, averageRate: e.Average, comments: e.Qtd })\r\n        })\r\n    }\r\n\r\n    const subMenu = (\r\n        <Menu>\r\n          <Menu.Item key=\"1\" onClick={() => {setShowUserDetails(true)}} icon={<UserOutlined />}>\r\n            Meus Dados\r\n          </Menu.Item>\r\n          <Menu.Item onClick={() => {\r\n              //toast.success(\"Logout realizado!\")\r\n              setShowUser(false); \r\n              api.logout()}} key=\"2\" icon={<LogoutOutlined />}>\r\n            Sair\r\n          </Menu.Item>\r\n        </Menu>\r\n      );\r\n\r\n    return (\r\n\r\n        <Layout>\r\n            <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\r\n                <div className=\"logo\" style={{\r\n                    width: 200,\r\n                    height: 40,\r\n                    margin: '0px 24px 16px 0',\r\n                    float: 'left'\r\n                }}>\r\n                    <Link to=\"/\">\r\n                        <img height={40} src=\"https://dad-react-static.s3.us-east-2.amazonaws.com/untitled.png\" /></Link></div>\r\n                <Menu selectedKeys={location === '/interests' ? ['2'] : ['1']} theme=\"dark\" mode=\"horizontal\">\r\n                    <Menu.Item key=\"1\"><Link to=\"/\">Todos os Livros</Link></Menu.Item>\r\n                    {showUser ? <Menu.Item key=\"2\"><Link to=\"/interests\">Meus Livros</Link></Menu.Item> : null}\r\n                    {\r\n                        showUser ?\r\n\r\n                            <div style={{ float: \"right\", marginRight: 40 }} key=\"4\">\r\n                                <Dropdown overlay={subMenu} trigger={['click']} placement=\"bottomLeft\">\r\n                                    <a onClick={(e) => {e.preventDefault()}}>\r\n                                {\r\n                                     \r\n                                    !!api.userPhoto() ?\r\n                                       <Avatar size={48} src={api.userPhoto()} /> :\r\n                                        <Avatar size={48} style={{ background: '#f0f2f5', color: 'teal', fontWeight: \"bold\" }}>{api.getUsername()[0]}</Avatar>\r\n                                }\r\n                                </a>\r\n                                </Dropdown>\r\n                            </div> : null\r\n                    }\r\n\r\n                </Menu>\r\n            </Header>\r\n            <Layout>\r\n                <Content style={{ padding: '0 50px', marginTop: 64 }}>\r\n                    <div style={{\r\n                        background: '#f0f2f5',\r\n                        padding: '24px',\r\n                        minHeight: '600px'\r\n                    }}>\r\n                        {\r\n                            location === '/interests' && api.loggedIn() ?\r\n                                <MyBookList onBookClick={onBookClick} />\r\n                                : <BookList onBookClick={onBookClick} />\r\n                        }\r\n\r\n                    </div>\r\n                    <BackTop>\r\n                        <div style={{\r\n                            height: 50,\r\n                            width: 50,\r\n                            lineHeight: '40px',\r\n                            borderRadius: 4,\r\n                            backgroundColor: 'teal',\r\n                            color: '#fff',\r\n                            textAlign: 'center',\r\n                            verticalAlign: 'middle',\r\n                            fontSize: 20\r\n                        }}><ArrowUpOutlined /></div>\r\n                    </BackTop>\r\n                </Content>\r\n\r\n            </Layout>\r\n            <Footer style={{ textAlign: 'center' }}>GoodBooks DAD - 2020</Footer>\r\n            <ModalBookDetails setShowUser={setShowUser} showModal={showModal} book={book} reloadBook={reloadBook} onOk={onOkModal} />\r\n            <UserDetailsForm onSubmit={(u) => {api.setUser(u)}} handleCloseDrawer={() => setShowUserDetails(false)} showDrawer={showUserDetails} userDetails={api.userJSON()} />\r\n            <ToastContainer />\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Home from './Home';\r\nimport MyBookList from \"./MyBookList\";\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/interests\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n    </BrowserRouter>\r\n)\r\n\r\nexport default Routes;","import React from 'react';\r\nimport Home from './Home';\r\nimport Routes from './routes';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"container\">\r\n      <Routes>\r\n        <Home />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}